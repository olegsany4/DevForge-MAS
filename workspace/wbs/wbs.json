{
  "tasks": [
    {"id": "T01", "desc": "Уточнить Project Brief, границы, KPI и ограничения (лицензии, ОС, offline-режим)", "deps": []},
    {"id": "T02", "desc": "Завести ADR-lite реестр (ADR-0001..000N) и шаблон решения", "deps": ["T01"]},
    {"id": "T03", "desc": "Инициализировать репозиторий и базовую структуру workspace с Makefile", "deps": ["T01"]},
    {"id": "T04", "desc": "Сформировать каталог ролей/агентов: роли, входы/выходы, KPI, контракты", "deps": ["T01","T03"]},
    {"id": "T05", "desc": "Разработать stage-пайплайн (этапы от Intake до Release) и спецификацию оркестрации", "deps": ["T04"]},
    {"id": "T06", "desc": "Подготовить анкеры-промпты и JSON-схемы ввода/вывода для агентов", "deps": ["T04"]},
    {"id": "T07", "desc": "Спроектировать модуль оркестратора (планировщик, очереди, ретраи, кэш)", "deps": ["T05"]},
    {"id": "T08", "desc": "Специфицировать адаптеры инструментов (Git, Make, LLM-провайдеры, файловая система)", "deps": ["T05"]},
    {"id": "T09", "desc": "Спроектировать модель данных и хранилища (snapshots, артефакты, метаданные)", "deps": ["T05"]},
    {"id": "T10", "desc": "Реализовать CLI/Runner для запуска этапов и полного конвейера", "deps": ["T07","T08","T09"]},
    {"id": "T11", "desc": "Добавить проверку качества (Acceptance Gate): линтеры, схемы, тесты", "deps": ["T06","T10"]},
    {"id": "T12", "desc": "Реализовать шаблоны артефактов (скелеты приложений, README, ADR, WBS)", "deps": ["T06"]},
    {"id": "T13", "desc": "Интегрировать CI (lint/test/build), кэш и артефакты сборок", "deps": ["T10","T11"]},
    {"id": "T14", "desc": "Наблюдаемость: структурные логи, метрики этапов, трейсинг с run-id", "deps": ["T10"]},
    {"id": "T15", "desc": "Безопасность и полиси: токены, секреты, разрешения, офлайн-профиль", "deps": ["T08","T10"]},
    {"id": "T16", "desc": "Собрать демонстрационный поток: от брифа до рабочего шаблон-приложения", "deps": ["T10","T11","T12","T13"]},
    {"id": "T17", "desc": "Документация: README, HOWTO, схемы, дорожная карта", "deps": ["T16"]},
    {"id": "T18", "desc": "Релиз: упаковка релизного артефакта (zip/tar) и чеклист выпуска", "deps": ["T16","T17"]},
    {"id": "T19", "desc": "Финальный QA/Acceptance Review по чеклисту и подпись релиза", "deps": ["T18"]},
    {"id": "T20", "desc": "Хэнд-офф: передача артефактов и плана сопровождения", "deps": ["T19"]}
  ],
  "acceptance": [
    "В папке workspace/brief/ лежит актуальный Brief (версирован), содержит KPI и ограничения.",
    "В workspace/adr/ присутствует ADR-0001 с шаблоном и минимум 3 решения по ключевым выборкам.",
    "Структура workspace и Makefile существуют; цели make help, make test, make build работают без ошибок.",
    "Каталог workspace/agents/ содержит registry.json с ролями, IO-контрактами и KPI по каждой роли; JSON проходит валидацию схемой.",
    "Описание пайплайна этапов сохранено в workspace/pipelines/pipeline.yaml; граф ацикличен (проверка скриптом).",
    "Промпты и JSON-схемы агентов находятся в workspace/agents/prompts/ и workspace/schemas/; все схемы валидны (скрипт validate:0 exit).",
    "Оркестратор запускается: `cli run --stage Research` и `cli run --all` завершаются кодом 0 с логами в workspace/logs/.",
    "Адаптеры инструментов задокументированы и покрыты smoke-тестами (минимум по одному тесту на адаптер).",
    "Модель данных описана в workspace/docs/data_model.md; unit-тесты на сериализацию/восстановление проходят.",
    "CLI предоставляет команды `plan`, `run`, `resume`, `snapshot`; `cli plan` выводит детерминированный WBS (≤ 20 узлов).",
    "Запуск `make test` выполняет линтеры, схемы и юнит-тесты, завершается успешно.",
    "Шаблоны артефактов в workspace/templates/ рендерятся командой `cli scaffold app` без ошибок.",
    "CI-конвейер проходит на чистом окружении: lint/test/build зелёные, артефакт сборки публикуется как attach.",
    "Логи структурированы (JSONL) и содержат run_id, stage, duration; есть пример трассировки в workspace/observability/.",
    "Политики безопасности зафиксированы в workspace/policies/; нет открытых секретов в репозитории (проверка secret-scan=0 findings).",
    "Демо-прогон создаёт рабочий пример приложения в workspace/releases/demo_app/ с README и инструкцией запуска.",
    "Документация (README, HOWTO, схемы) присутствует и покрывает установку, запуск, расширение и CI.",
    "Релизный пакет формируется командой `make release` и появляется в workspace/releases/DevForge-MAS_v*.zip.",
    "Итоговый acceptance-review чеклист выполнен на 100% и подписан (workspace/reviews/final_signoff.md).",
    "Хэнд-офф пакет (release + docs + plan) собран в workspace/handoff/ и проверен на полноту скриптом checklist."
  ]
}
